# SPA-Demo-CRUD
demo app (crud): react // c# .net core && web-api // authorization + registration + [reCaptcha v2](https://github.com/badhitman/reCaptcha)

решение не имеет практического применения. обычная демка для частных нужд.

Окно неавторизованного пользователя:
![домашняя страница незарегистрированного пользователя](./screenshots/home-page-guest.jpg)

Если включена загрузка демо данных для сборок "Debug" (требуются выполнение обоих условий) будет выведена вспомогательная область с подсказкой для быстрого входа в различные учётные записи. У каждой демо-учётки права соответсвуют её имени (если роль не была переназначена). Для быстрого заполнения формы авторизации учётными данными из подскаки, достаточно совершить двойной клик по интересующей учётной записи.
![страница входа/регистрации пользователя 1](./screenshots/log-in.jpg)

Системное/серверное сообщение контроля валидации моделей для отправляемых форм входа/регистрации.
![страница входа/регистрации пользователя 2](./screenshots/log-in-2.jpg)

Кроме валидации модели сервер сообзщает о статусе запроса. Это ошибки другого толка, нежели сообщения контроля валидации модели.
![страница входа/регистрации пользователя 3](./screenshots/log-in-3.jpg)

Поддержка reCaptcha v2. Для включения или отключения нужно в настройках добавить или удалить (равно как и раскоментировать или закоментировать) ключи.
![страница входа/регистрации пользователя (off-registration)](./screenshots/log-in-off-registration.jpg)

В зависимости от роли пользователю выводиться соотвествующее меню. Состав меню формируется на стороне сервера. Роли (а точнее: политики) выстроены в вертикальную иерархию и наследуются от младшего к старшему. Другими словами: на контроллеры и их методы накладываются не конкретные роли, а минимальный требуемый уровень. В таком случае доступ к web-api имеют все кто равен требуемуму уровню или старше в иерархии.

Простой пользователь
![домашняя страница пользователя](./screenshots/menu-user.jpg)

Меню администратора
![домашняя страница администратора](./screenshots/menu-admin.jpg)

Меню для **root**
![страница выхода из сессии пользователя](./screenshots/log-out.jpg)

Контроль доступа web-api. Если клиент попытается получить доступ к web-api, прав на которое еме не хватает - будет перенаправлен на страницу ошибки
![контроль доступа](./screenshots/access-denied.jpg)

Список отделов/департаментов
![список доступных департаментов](./screenshots/departments-list.jpg)

Карточка департамента с пользователями. Если у департамента есть назначеные пользователи, то они будут выведены снизу
![карточка департамента 1](./screenshots/departments-card.jpg)

Пример департамента, за которым не закреплён ни один пользователь
![карточка департамента 2](./screenshots/departments-card-empty.jpg)

Удаление департамента каскадно удалит и всех прикреплённых пользователей.
![карточка департамента 3](./screenshots/departments-delete.jpg)

Список пользователей. Роли/права выделены слева от имени
![список пользователей](./screenshots/user-list.jpg)

![карточка пользователя 1](./screenshots/user-card.jpg)

![карточка пользователя 2](./screenshots/user-delete.jpg)

Пример содержания конфигурационного файла
![конфигурационный файл приложения](./screenshots/appsettings.json.jpg)
